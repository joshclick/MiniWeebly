extends index

block content
  #tools
    .title Templates
    #templates
      .template-button(ng-repeat='page in pages track by $index', ng-class='{active: activePage._id == page._id}', ng-click='activatePage(page._id)', ng-mouseenter='hover=true', ng-mouseleave='hover=false', ng-init='hover=false')
        .icon.delete(ng-class='{hover: hover}', ng-click='deletePage(page._id)')
        input.edit(type='text', maxlength='10', ng-model='page.pageName' ng-blur="editPageTitle(page.pageName, page._id)")
      form.template-button.new
        input(type='text', maxlength='10', ng-model='newPageForm.title', placeholder='Add a new page')
        button.icon.add(type='submit', ng-click='addPage()')
    .title Elements
    #elements
      .elem-button.bordr.bordb
        #title.icon(ng-click="addContent('title', activePage._id)")
        | Title
      .elem-button.bordb(ng-click="addContent('text', activePage._id)")
        #text.icon
        | Text
      .elem-button.bordr(ng-click="addContent('image', activePage._id)")
        #image.icon
        | Image
      .elem-button(ng-click="addContent('nav', activePage._id)")
        #nav.icon
        | Nav
    .title Settings
    #settings
      #site-grid
        #grid-toggle.icon(ng-class='{active: gridToggle}', ng-click='gridToggle = !gridToggle')
        span Site Grid
  #board
    #pages
      .page-button(ng-repeat='page in pages track by $index', ng-class='{active: activePage._id == page._id}', ng-click='activatePage(page._id)')
        span {{page.pageName}}
    #splash
      a(ng-click='setImage()')
        img(ng-src='{{splashURL || defaultSplash}}')
        p(ng-hide='splashURL') Add Image +
    #content-cont
      .content(ng-repeat='content in contents | filter:filterContent', ng-model='activePage', ng-mouseover='hover=true', ng-mouseleave='hover=false')
        .del-icon(ng-show='hover', ng-click='removeContent(content._id)')
        div(class="{{content.type}}", contenteditable='true', ng-class='{hover: hover}', ng-model='content.value')
